{% extends "ProyectoWebApp/base.html" %}
{% load static %}

{% block content %}
<div class="container mt-5">
    <div class="card mb-5">
        <img class="card-img-top" src="{{ vivienda.imagen.url }}" alt="{{ vivienda.nombre }}">
        <div class="card-body" style="color: black;">
            <h3 class="card-title">{{ vivienda.nombre }}</h3>
            <p class="text-muted">{{ vivienda.ubicacion }}</p>
            <p>{{ vivienda.descripcion }}</p>
            <p><strong>Precio por día:</strong> {{ vivienda.precio_por_dia }} €</p>
        </div>
    </div>

    <div class="reservation-container">
        <h4 class="reservation-title">Selecciona tu fecha de reserva</h4>
        
        <form method="post" class="reservation-form">
            {% csrf_token %}
            {{ form.as_p }}
            <button type="submit" class="btn-submit">Realizar Reserva</button>
        </form>
    
        {% if fechas_reservadas %}
            <h5 class="unavailable-dates-title">Fechas no disponibles:</h5>
            <ul class="unavailable-dates-list">
                {% for fecha in fechas_reservadas %}
                    <li>{{ fecha }}</li>
                {% endfor %}
            </ul>
        {% endif %}
    </div>
    {% endblock %}
